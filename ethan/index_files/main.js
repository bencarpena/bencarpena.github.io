window.beep={},window.beep.utils={},function(e,t){var n=e.beep;n.utils.domReady=function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)};n.utils.getCSSCustomProperty=function(e){let t=getComputedStyle(document.documentElement).getPropertyValue(e);return t.length&&(t=t.replace(/\"/g,"").trim()),t};n.utils.hasStorage=function(){var e;try{e=window.localStorage;var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}}(this),function(e){"use strict";"ontransitionend"in window&&"classList"in document.documentElement&&beep.utils.domReady(()=>{document.querySelector(".mast").setAttribute("data-enhanced","");const e=document.createElement("button");e.className="nav-toggle",e.setAttribute("aria-expanded","false"),e.innerHTML="Menu";const t=document.querySelector(".nav-primary");t.parentNode.insertBefore(e,t),t.setAttribute("hidden",""),t.setAttribute("data-enhanced",""),t.setAttribute("tabindex","-1"),t.classList.add("is-collapsed");const n=document.createElement("div");n.classList.add("nav-bg"),t.appendChild(n);const o=document.createElement("button");o.className="nav-close",o.innerHTML='<span class="sr-only">Close</span> <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="40" height="41" viewBox="0 0 40 41"><path fill="currentColor" fill-rule="evenodd" d="M15.444 20.24L0 4.701 4.7 0l15.253 15.731L35.299 0l4.7 4.7-15.444 15.54L40 35.684l-4.7 4.7-15.348-15.636L4.699 40.384 0 35.684z"/></svg>',t.insertBefore(o,t.firstChild);const r=t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),a=function(){let n=!0;return"false"===e.getAttribute("aria-expanded")&&t.classList.contains("is-collapsed")&&(n=!1),n},i=function(){a()&&(e.setAttribute("aria-expanded","false"),t.classList.add("is-collapsed"),t.addEventListener("transitionend",(function(){t.setAttribute("hidden",""),e.focus()}),{capture:!1,once:!0,passive:!1}))};e.addEventListener("click",(function(n){"false"===e.getAttribute("aria-expanded")?a()||(e.setAttribute("aria-expanded","true"),t.removeAttribute("hidden"),setTimeout((function(){t.classList.remove("is-collapsed"),t.focus()}),50)):i()})),o.addEventListener("click",(function(e){i()})),document.addEventListener("click",(function(n){!t.contains(n.target)&&!e.contains(n.target)&&!o.contains(n.target)&&i()})),t.addEventListener("keydown",(function(t){"true"===e.getAttribute("aria-expanded")&&9===t.keyCode&&(1===r.length&&t.preventDefault(),t.shiftKey?function(e){document.activeElement===r[0]&&(e.preventDefault(),r[r.length-1].focus())}(t):function(e){document.activeElement===r[r.length-1]&&(e.preventDefault(),r[0].focus())}(t)),27===t.keyCode&&(i(),e.focus())})),window.addEventListener("resize",i)})}(),function(e){"use strict";beep.utils.domReady(()=>{const e=document.querySelectorAll(".content-main iframe[width][height]"),t=document.createElement("div");t.setAttribute("class","media"),e.forEach(e=>{let n=e.getAttribute("height")/e.getAttribute("width")*100,o=t.cloneNode(!0);e.parentNode.insertBefore(o,e),o.innerHTML=`<div style="padding-top: ${n}%"></div>`,o.querySelector("div[style]").appendChild(e)})})}(),function(e){"use strict";beep.utils.hasStorage&&"content"in document.createElement("template")&&beep.utils.domReady(()=>{const e=document.querySelector("#template-mode-toggle"),t=document.querySelector(".footer-nav");t.innerHTML=e.innerHTML+t.innerHTML;const n=document.querySelectorAll('input[name="theme-chooser"]'),o=Array.from(n),r=document.querySelector(".mode-status"),a=function(e){let t=e||localStorage.getItem("user-color-scheme");t||"auto"===t?(document.documentElement.setAttribute("data-site-theme",t),i(t)):i(beep.utils.getCSSCustomProperty("--site-theme"))},i=function(e){document.querySelector(`input[name="theme-chooser"][value="${e}"]`).checked=!0,"auto"===e?(document.documentElement.removeAttribute("data-site-theme"),r.innerText="Color mode is selected automatically."):r.innerText=`Color mode is now “${e}.”`};o.forEach(e=>{e.addEventListener("change",(function(e){e.preventDefault();let t=document.querySelector('input[name="theme-chooser"]:checked').value;localStorage.setItem("user-color-scheme",t),a(t)}))}),a(),window.addEventListener("storage",(function(e){"user-color-scheme"===e.key&&a()}))})}(),function(e){"use strict";self.fetch&&"caches"in window&&beep.utils.domReady(()=>{const e=document.querySelector("body.is-offline"),t=document.querySelector("meta[name='build']").getAttribute("content"),n=`v${t}::ethanmarcotte:pages`;if(n&&e){const e="/wrote/";let o=[];const r=function(e){const t=e.sort((function(e,t){return new Date(e.date)<new Date(t.date)})),n=document.querySelector(".archive-list");let o=[];t.forEach(e=>{let t=e.url,n=e.title,r=e.date,a=e.dateText,i=`\n              <li class="item-archive-entry">\n                <article class="archive-entry">\n                  <h3 class="hed hed-teaser"><a href="${t}">${n}</a></h3>\n                  <p class="desc-teaser">${e.description.replace(/(<p[^>]+?>|<p>|<\/p>)/gim,"")}</p>\n                  <p class="meta-teaser"><span class="sr-only">Posted on </span><time datetime="${r}">${a}</time></p>\n                </article>\n              </li>`.trim();o.push(i)}),n&&o.length&&(n.innerHTML+=o.join("\n"))};caches.open(n).then(n=>{n.keys().then(n=>{n.forEach(t=>{t.url.indexOf(e)>-1&&o.push(e+t.url.split(e)[1])}),o.length&&fetch(`/data/posts.${t}.json`).then(e=>{if(e.ok)return e.json().then(e=>{let t=e.filter((function(e){return o.indexOf(e.url)>=0}));t.length&&r(t)})})})})}})}();